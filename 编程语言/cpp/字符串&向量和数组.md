# 字符串、向量和数组

## using声明

+ 头文件不应该包含using声明

## 标准库类型string

+ c++标准一方面对库类型所提供的操作做了详细的规定,另一方面也对库的实现者做出一些性能上的需求.因此,标准库类型对于一般应用场合来说有足够的效率.

### 初始化

| 初始化 | 说明 |
| ------ | ----- |
| string s1 |    |
| string s2(s1) |    |
| string s2 = s1 |    |
| string s3("value") |    |
| string s3 = "value" |    |
| string s4(n, 'c') |    |

### 直接初始化和拷贝初始化

+ 如果使用等号初始化一个变量,实际上执行的是拷贝初始化,编译器把等号右边的初始值拷贝到新创建的对象中去

### string操作
| 操作 | 说明 |
| ------ | ----- |
| os << s |    |
| is >> s |    |
| getline(is, s) |    |
| s.empty() |    |
| s.size() |    |
| s[n] |    |
| s1 + s2 |    |
| s1 == s2 |    |
| s1 != s2 |    |
| <, <=, >, >= |    |

### 读取string对象
+ std::cin读取以空格分隔, getline以换行分隔,不包括换行

### string::size_type类型

+ string及标准库大多都定义了配套类型,体现了标准库与机器的无关性
+ 它是一个无符号类型

### string和字面量相加

+ 当把string对象和字面量相加时,必须确保每个(+)的两侧至少有一个对象是string
+ 因为历史原因和与C兼容,字符串字面量并不是string类型
+ 使用C++版本的C标准库头文件,C语言形如name.h的头文件在c++中命名为cname

### for遍历字符串
```cpp
for(auto c: s)
    ...

修改字符串:
for(auto &c: s)
    ...
```

### 下标是否合法
+ c++标准并不要求标准库检查下标是否合法,一旦使用了超出范围的下标,会产生不可预知的后果

## 标准库vector

### 定义和初始化vector

| 初始化 | 说明 |
| ------ | ----- |
| vector<T> v1 |    |
| vector<T> v2(v1) |    |
| vector<T> v2 = v1 |    |
| vector<T> v3(n, val) |    |
| vector<T> v4(n) |    |
| vector<T> v5{a,b,c,d} |    |
| vector<T> v6 = {a,b,c,d} |    |

### 列表初始化vector

以下几种情况不同的初始化方式有区别:
+ 使用拷贝初始化时(使用=)
+ 如果提供的是一个类内初始值
+ 如果提供的是初始元素值的列表
+ 初始化时使用了花括号的形式但是提供的值又不能用来列表初始化,就会考虑用这样的值来构造vector

### 值初始化
只提供元素数量

#### 限制
+ 在些类要求必须明确地提供初始值
+ 只提供了元素数量

#### 向vector添加元素

+ push_back
+ c++标准要求vector能在运行时高效地增长,因此定义对象的时候设定大小就没有必要了,事实上这么做可能性能更差 

#### 向vector添加元素蕴含的编程假定
+ 确保循环准确无误,特别是循环有可能改变vector容量的时候

#### 其它vector操作
| 操作 | 说明 |
| ------ | ----- |
| v.empty() |    |
| v.size() |    |
| v.push_back(t) |    |
| v[n] |    |
| v1 == v2 |    |
| v1 = { a, b, c... } |    |
| v1 == v2 |    |
| v1 != s2 |    |
| s1 != s2 |    |
| <, <=, >, >= |    |

##### vector比较只有在元素数量相同且相同位置上元素相等时才相等
##### 不能用下标形式添加元素

##　迭代器

### begin和end运算符
+ begin和end返回的类型由对象是否是常量决定
+ c++11引入了cbegin和cend

### 结合解引用和成员访问操作
#### (*it).empty(),括号必不可少

### 某些操作会使迭代器失效
+ 不能在范围for中向vector添加元素
+ 任何一种可能改变vector容量的操作,都会使迭代器失效